# Mosquitto MQTT Broker Configuration
# Suporte para MQTT e MQTTS

# ========================================
# 🔌 CONFIGURAÇÕES BÁSICAS
# ========================================
listener 1883
protocol mqtt
allow_anonymous true

# ========================================
# 🔒 CONFIGURAÇÕES MQTTS (SSL/TLS)
# ========================================
listener 8883
protocol mqtts
cafile /mosquitto/config/ca.crt
certfile /mosquitto/config/server.crt
keyfile /mosquitto/config/server.key
allow_anonymous true

# ========================================
# 📊 LOGGING E MONITORAMENTO
# ========================================
log_dest file /mosquitto/log/mosquitto.log
log_type error
log_type warning
log_type notice
log_type information
log_type debug

# ========================================
# 🔧 CONFIGURAÇÕES AVANÇADAS
# ========================================
max_connections 1000
max_inflight_messages 100
max_queued_messages 1000
message_size_limit 0
persistence true
persistence_location /mosquitto/data/
autosave_interval 1800
autosave_on_changes false
queue_qos0_messages false

# ========================================
# 🌐 CONFIGURAÇÕES DE REDE
# ========================================
bind_address 0.0.0.0
max_keepalive 65535
